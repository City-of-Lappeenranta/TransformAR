<article class="content" [formGroup]="reasonForm">
  <section class="message-container">
    <label class="p-label" for="message">Feedback message</label>
    <textarea class="textarea full-width" id="message" formControlName="message" pInputTextarea></textarea>
  </section>
  <section class="published-container flex-row">
    <p-checkbox class="checkbox" inputId="binary" formControlName="publish" [binary]="true"></p-checkbox>
    <div class="title-and-description flex-column">
      <h3>Feedback may be published</h3>
      <p>The published feedback can be viewed on the Search and browse feedback page and in RSS feeds.</p>
    </div>
  </section>
  <section class="attachments-container flex-column">
    <label class="p-label">
      Attachments
      <span class="p-optional">Optional</span>
    </label>
    <div class="attachments flex-column">
      <app-icon class="icon" icon="add-image"></app-icon>
      <p class="description">You can upload one or more images to your feedback. JPG, PNG, maximum size of files is 8MB</p>
      <p-button class="button" [outlined]="true" label="Upload or take image" (click)="fileInput.click()">
        <input #fileInput type="file" accept="image/png, image/jpeg" (change)="onFileInput($event)" style="display: none" />
      </p-button>
    </div>
    <div class="files-container">
      @if (files.length > 0) {
        <h4>{{ files.length }} File{{ files.length > 1 ? 's' : '' }}</h4>
      }
      @for (file of files; track file; let index = $index) {
        <app-feedback-attachment-file
          [name]="file.name"
          [size]="file.size"
          (remove)="onFileRemove(index)"
        ></app-feedback-attachment-file>
      }
    </div>
  </section>
</article>
